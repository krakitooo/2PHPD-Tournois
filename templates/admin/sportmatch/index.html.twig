{% extends 'admin/header.html.twig' %}

{% block title %}Gestion des matchs{% endblock %}

{% block body %}
    <h1>Gestion des matchs</h1>
    
    <br/>

    <table>
        <thead>
            <tr>
                <th>ID</th>
                <th>Tournoi</th>
                <th>Joueur 1</th>
                <th>Joueur 2</th>
                <th>Score 1</th>
                <th>Score 2</th>
                <th>Date</th>
                <th>Status</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            {% for match in matches %}
                <tr>
                    <td>{{ match.id }}</td>
                    <td>{{ match.tournament.tournamentName }}</td>
                    <td>
                        {% if match.player1 is not null %}
                            {{ match.player1.username }}
                        {% else %}
                            Joueur supprimé
                        {% endif %}
                    </td>
                    <td>
                        {% if match.player2 is not null %}
                            {{ match.player2.username }}
                        {% else %}
                            Joueur supprimé
                        {% endif %}
                    </td>
                    <td>{{ match.scorePlayer1 }}</td>
                    <td>{{ match.scorePlayer2 }}</td>
                    <td>{{ match.matchDate ? match.matchDate|date('Y-m-d H:i') : '' }}</td>
                    <td>{{ match.status }}</td>
                    <td class="actions">
                        <a href="{{ path('admin_sportmatches_edit', {id: match.id}) }}">Modifier</a> |
                        <a href="{{ path('admin_sportmatches_delete', {id: match.id}) }}">Supprimer</a>
                    </td>
                </tr>
            {% else %}
                <tr><td colspan="9">Aucun match trouvé.</td></tr>
            {% endfor %}
        </tbody>
    </table>

    <a href="{{ path('admin_sportmatches_new') }}" class="add-button">Ajouter un match</a>
{% endblock %}
